#!/bin/bash

#activate_screen_command="--output VGA-0 --off --output LVDS-0 --off"
laptop_output="eDP1"
cmd="xrandr "
#screens=$(xrandr --listactivemonitors | awk '{print $4}')
screens=$(xrandr | awk '{if ($2 == "connected") {print $1 }}')
number_of_screens="$(wc -l <<< $screens)"

laptop_resolution="1920x1080"
default_resolution="2560x1440"

if [[ $number_of_screens > 1 ]]; then
    cmd+="--output ${laptop_output} --off --output DP1 --off"
    for screen in $screens; do
        if [[ $screen =~ (DP1-2) ]]; then
            cmd+=" --output $screen --mode ${laptop_resolution} --pos 0x0 --rotate right"
        elif  [[ $screen =~ DP1-1 ]]; then
            cmd+=" --output $screen --mode ${default_resolution} --pos 3640x240 --rotate normal"
        elif  [[ $screen =~ DP1-3 ]]; then
            cmd+=" --output $screen --mode ${default_resolution} --pos 1080x240 --rotate normal"
        fi
    done
else
    #if there is only one screen, then assume that it is the laptop monitor - otherwise, we could check for it explicitly:
    #if [[ $screens =~ eDP1.* ]]; then
    cmd+=" --output ${screens} --mode ${laptop_resolution} --pos 0x0 --rotate normal"
fi

#echo "${cmd}"
$cmd
